Raphael=function(){function e(){if(e.is(arguments[0],C)){for(var t=arguments[0],r=Pt[l](e,t.splice(0,3+e.is(t[0],T))),i=r.set(),s=0,o=t[b];s<o;s++){var u=t[s]||{};n.test(u.type)&&i[M](r[u.type]().attr(u))}return i}return Pt[l](e,arguments)}function a(){}function X(t){if(e.vml){var n=/^\s+|\s+$/g;X=G(function(e){var t;e=(e+p)[z](n,p);try{var r=new o.ActiveXObject("htmlfile");r.write("<body>");r.close();t=r.body}catch(i){t=o.createPopup().document.body}r=t.createTextRange();try{t.style.color=e;var s=r.queryCommandValue("ForeColor");s=(s&255)<<16|s&65280|(s&16711680)>>>16;return"#"+("000000"+s[k](16)).slice(-6)}catch(u){return"none"}})}else{var r=s.createElement("i");r.title="Raphaël Colour Picker";r.style.display="none";s.body[f](r);X=G(function(e){r.style.color=e;return s.defaultView.getComputedStyle(r,p).getPropertyValue("color")})}return X(t)}function V(){return"hsb("+[this.h,this.s,this.b]+")"}function $(){return this.hex}function G(e,t,n){function s(){var o=Array[r].slice.call(arguments,0),u=o[y]("►"),a=s.cache=s.cache||{},f=s.count=s.count||[];if(a[i](u))return n?n(a[u]):a[u];f[b]>=1e3&&delete a[f.shift()];f[M](u);a[u]=e[l](t,o);return n?n(a[u]):a[u]}return s}function tt(t){var n=[];if(!e.is(t,C)||!e.is(t&&t[0],C))t=e.parsePathString(t);for(var r=0,i=t[b];r<i;r++){n[r]=[];for(var s=0,o=t[r][b];s<o;s++)n[r][s]=t[r][s]}n[k]=e._path2string;return n}function it(e,t,n,r){return[e,t,n,r,n,r]}function st(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]}function ot(e,t,n,r,i,s,o,u,a,f){var l=E.PI,h=l*120/180,p=l/180*(+i||0),d=[],m,g=G(function(e,t,n){var r=e*E.cos(n)-t*E.sin(n);e=e*E.sin(n)+t*E.cos(n);return{x:r,y:e}});if(f){x=f[0];m=f[1];s=f[2];S=f[3]}else{m=g(e,t,-p);e=m.x;t=m.y;m=g(u,a,-p);u=m.x;a=m.y;E.cos(l/180*i);E.sin(l/180*i);m=(e-u)/2;x=(t-a)/2;S=m*m/(n*n)+x*x/(r*r);if(S>1){S=E.sqrt(S);n=S*n;r=S*r}S=n*n;var w=r*r;S=(s==o?-1:1)*E.sqrt(E.abs((S*w-S*x*x-w*m*m)/(S*x*x+w*m*m)));s=S*n*x/r+(e+u)/2;var S=S*-r*m/n+(t+a)/2,x=E.asin(((t-S)/r).toFixed(7));m=E.asin(((a-S)/r).toFixed(7));x=e<s?l-x:x;m=u<s?l-m:m;x<0&&(x=l*2+x);m<0&&(m=l*2+m);if(o&&x>m)x-=l*2;if(!o&&m>x)m-=l*2}l=m-x;if(E.abs(l)>h){d=m;l=u;w=a;m=x+h*(o&&m>x?1:-1);u=s+n*E.cos(m);a=S+r*E.sin(m);d=ot(u,a,n,r,i,0,o,l,w,[m,d,s,S])}l=m-x;i=E.cos(x);s=E.sin(x);o=E.cos(m);m=E.sin(m);l=E.tan(l/4);n=4/3*n*l;l=4/3*r*l;r=[e,t];e=[e+n*s,t-l*i];t=[u+n*m,a-l*o];u=[u,a];e[0]=2*r[0]-e[0];e[1]=2*r[1]-e[1];if(f)return[e,t,u][c](d);else{d=[e,t,u][c](d)[y]()[v](",");f=[];u=0;for(a=d[b];u<a;u++)f[u]=u%2?g(d[u-1],d[u],p).y:g(d[u],d[u+1],p).x;return f}}function ut(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:O(f,3)*e+O(f,2)*3*a*n+f*3*a*a*i+O(a,3)*o,y:O(f,3)*t+O(f,2)*3*a*r+f*3*a*a*s+O(a,3)*u}}function ct(t,n,r,i){if(e.is(t,N)||e.is(t,"object")){t=e.is(t,N)?s.getElementById(t):t;if(t.tagName)return n==null?{container:t,width:t.style.pixelWidth||t.offsetWidth,height:t.style.pixelHeight||t.offsetHeight}:{container:t,width:n,height:r}}else return{container:1,x:t,y:n,width:r,height:i}}function ht(e,t){var n=this;for(var r in t)if(t[i](r)&&!(r in e))switch(typeof t[r]){case"function":(function(t){e[r]=e===n?t:function(){return t[l](n,arguments)}})(t[r]);break;case"object":e[r]=e[r]||{};ht.call(this,e[r],t[r]);break;default:e[r]=t[r];break}}function pt(e,t){e==t.top&&(t.top=e.prev);e==t.bottom&&(t.bottom=e.next);e.next&&(e.next.prev=e.prev);e.prev&&(e.prev.next=e.next)}function dt(e,t){if(t.top!==e){pt(e,t);e.next=null;e.prev=t.top;t.top.next=e;t.top=e}}function vt(e,t){if(t.bottom!==e){pt(e,t);e.next=t.bottom;e.prev=null;t.bottom.prev=e;t.bottom=e}}function mt(e,t,n){pt(e,n);t==n.top&&(n.top=e);t.next&&(t.next.prev=e);e.next=t.next;e.prev=t;t.next=e}function gt(e,t,n){pt(e,n);t==n.bottom&&(n.bottom=e);t.prev&&(t.prev.next=e);e.prev=t.prev;t.prev=e;e.next=t}function yt(e){return function(){throw new Error("Raphaël: you are calling to method “"+e+"” of removed object")}}function Vt(){this.returnValue=false}function $t(){return this.originalEvent.preventDefault()}function Jt(){this.cancelBubble=true}function Kt(){return this.originalEvent.stopPropagation()}function Gt(){return this.x+d+this.y}function Zt(t,n){return function(r,i,s){r=ft(r);for(var o,u,a,f,l="",c={},h=0,p=0,d=r.length;p<d;p++){a=r[p];if(a[0]=="M"){o=+a[1];u=+a[2]}else{f=en(o,u,a[1],a[2],a[3],a[4],a[5],a[6]);if(h+f>i){if(n&&!c.start){o=Yt(o,u,a[1],a[2],a[3],a[4],a[5],a[6],i-h);l+=["C",o.start.x,o.start.y,o.m.x,o.m.y,o.x,o.y];if(s)return l;c.start=l;l=["M",o.x,o.y+"C",o.n.x,o.n.y,o.end.x,o.end.y,a[5],a[6]][y]();h+=f;o=+a[5];u=+a[6];continue}if(!t&&!n){o=Yt(o,u,a[1],a[2],a[3],a[4],a[5],a[6],i-h);return{x:o.x,y:o.y,alpha:o.alpha}}}h+=f;o=+a[5];u=+a[6]}l+=a}c.end=l;o=t?h:n?c:e.findDotsAtSegment(o,u,a[1],a[2],a[3],a[4],a[5],a[6],1);o.alpha&&(o={x:o.x,y:o.y,alpha:o.alpha});return o}}function on(){var t=+(new Date);for(var n in sn)if(n!="length"&&sn[i](n)){var r=sn[n];if(r.stop||r.el.removed){delete sn[n];sn[b]--}else{var s=t-r.start,u=r.ms,a=r.easing,f=r.from,l=r.diff,c=r.to,h=r.t,v=r.prev||0,m=r.el,g=r.callback,w={},E;if(s<u){g=e.easing_formulas[a]?e.easing_formulas[a](s/u):s/u;for(var S in f)if(f[i](S)){switch(U[S]){case"along":E=g*u*l[S];c.back&&(E=c.len-E);a=nn(c[S],E);m.translate(l.sx-l.x||0,l.sy-l.y||0);l.x=a.x;l.y=a.y;m.translate(a.x-l.sx,a.y-l.sy);c.rot&&m.rotate(l.r+a.alpha,a.x,a.y);break;case T:E=+f[S]+g*u*l[S];break;case"colour":E="rgb("+[un(H(f[S].r+g*u*l[S].r)),un(H(f[S].g+g*u*l[S].g)),un(H(f[S].b+g*u*l[S].b))][y](",")+")";break;case"path":E=[];a=0;for(var x=f[S][b];a<x;a++){E[a]=[f[S][a][0]];for(var N=1,C=f[S][a][b];N<C;N++)E[a][N]=+f[S][a][N]+g*u*l[S][a][N];E[a]=E[a][y](d)}E=E[y](d);break;case"csv":switch(S){case"translation":E=l[S][0]*(s-v);a=l[S][1]*(s-v);h.x+=E;h.y+=a;E=E+d+a;break;case"rotation":E=+f[S][0]+g*u*l[S][0];f[S][1]&&(E+=","+f[S][1]+","+f[S][2]);break;case"scale":E=[+f[S][0]+g*u*l[S][0],+f[S][1]+g*u*l[S][1],2 in c[S]?c[S][2]:p,3 in c[S]?c[S][3]:p][y](d);break;case"clip-rect":E=[];for(a=4;a--;)E[a]=+f[S][a]+g*u*l[S][a];break}break}w[S]=E}m.attr(w);m._run&&m._run.call(m)}else{if(c.along){a=nn(c.along,c.len*!c.back);m.translate(l.sx-(l.x||0)+a.x-l.sx,l.sy-(l.y||0)+a.y-l.sy);c.rot&&m.rotate(l.r+a.alpha,a.x,a.y)}(h.x||h.y)&&m.translate(-h.x,-h.y);c.scale&&(c.scale+=p);m.attr(c);delete sn[n];sn[b]--;m.in_animation=null;e.is(g,"function")&&g.call(m)}r.prev=s}}e.svg&&m&&m.paper&&m.paper.safari();sn[b]&&o.setTimeout(on)}function un(e){return S(x(e,255),0)}function an(e,t){if(e==null)return{x:this._.tx,y:this._.ty,toString:Gt};this._.tx+=+e;this._.ty+=+t;switch(this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+t+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+t+this.attrs.y});break;case"path":var n=nt(this.attrs.path);n[0][1]+=+e;n[0][2]+=+t;this.attr({path:n});break}return this}function fn(t){return function(n,r,i,s){var o={back:t};e.is(i,"function")?s=i:o.rot=i;n&&n.constructor==kt&&(n=n.attrs.path);n&&(o.along=n);return this.animate(o,r,s)}}function ln(e){this.items=[];this[b]=0;this.type="set";if(e)for(var t=0,n=e[b];t<n;t++)if(e[t]&&(e[t].constructor==kt||e[t].constructor==ln)){this[this.items[b]]=this.items[this.items[b]]=e[t];this[b]++}}e.version="1.4.3";var t=/[, ]+/,n=/^(circle|rect|path|ellipse|text|image)$/,r="prototype",i="hasOwnProperty",s=document,o=window,u={was:Object[r][i].call(o,"Raphael"),is:o.Raphael};var f="appendChild",l="apply",c="concat",h="createTouch"in s,p="",d=" ",v="split",m="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[v](d),g={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},y="join",b="length",w=String[r].toLowerCase,E=Math,S=E.max,x=E.min,T="number",N="string",C="array",k="toString",L="fill",A=Object[r][k],O=E.pow,M="push",_=/^(?=[\da-f]$)/,D=/^url\(['"]?([^\)]+?)['"]?\)$/i,P=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%))\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,H=E.round,B="setAttribute",j=parseFloat,F=parseInt,I=" progid:DXImageTransform.Microsoft",q=String[r].toUpperCase,R={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},U={along:"along",blur:T,"clip-rect":"csv",cx:T,cy:T,fill:"colour","fill-opacity":T,"font-size":T,height:T,opacity:T,path:"path",r:T,rotation:"csv",rx:T,ry:T,scale:"csv",stroke:"colour","stroke-opacity":T,"stroke-width":T,translation:"csv",width:T,x:T,y:T},z="replace";e.type=o.SVGAngle||s.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(e.type=="VML"){var W=s.createElement("div");W.innerHTML="<!--[if vml]><br><br><![endif]-->";if(W.childNodes[b]!=2)return e.type=null;W=null}e.svg=!(e.vml=e.type=="VML");a[r]=e[r];e._id=0;e._oid=0;e.fn={};e.is=function(e,t){t=w.call(t);return t=="object"&&e===Object(e)||t=="undefined"&&typeof e==t||t=="null"&&e==null||w.call(A.call(e).slice(8,-1))==t};e.setWindow=function(e){o=e;s=o.document};e.hsb2rgb=G(function(t,n,r){if(e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t){r=t.b;n=t.s;t=t.h}var i;if(r==0)return{r:0,g:0,b:0,hex:"#000"};if(t>1||n>1||r>1){t/=255;n/=255;r/=255}i=~~(t*6);t=t*6-i;var s=r*(1-n),o=r*(1-n*t),u=r*(1-n*(1-t));t=[r,o,s,s,u,r,r][i];n=[u,r,r,o,s,s,u][i];i=[s,s,u,r,r,o,s][i];t*=255;n*=255;i*=255;r={r:t,g:n,b:i,toString:$};t=(~~t)[k](16);n=(~~n)[k](16);i=(~~i)[k](16);t=t[z](_,"0");n=n[z](_,"0");i=i[z](_,"0");r.hex="#"+t+n+i;return r},e);e.rgb2hsb=G(function(t,n,r){if(e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t){r=t.b;n=t.g;t=t.r}if(e.is(t,N)){var i=e.getRGB(t);t=i.r;n=i.g;r=i.b}if(t>1||n>1||r>1){t/=255;n/=255;r/=255}var s=S(t,n,r),o=x(t,n,r);i=s;if(o==s)return{h:0,s:0,b:s};else{var u=s-o;o=u/s;t=t==s?(n-r)/u:n==s?2+(r-t)/u:4+(t-n)/u;t/=6;t<0&&t++;t>1&&t--}return{h:t,s:o,b:i,toString:V}},e);var J=/,?([achlmqrstvxz]),?/gi,K=/\s*,\s*/,Q={hs:1,rg:1};e._path2string=function(){return this.join(",")[z](J,"$1")};e.getRGB=G(function(t){if(!t||(t+=p).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(Q[i](t.substring(0,2))||t.charAt()=="#")&&(t=X(t));var n,r,s,o,u;if(t=t.match(P)){if(t[2]){s=F(t[2].substring(5),16);r=F(t[2].substring(3,5),16);n=F(t[2].substring(1,3),16)}if(t[3]){s=F((u=t[3].charAt(3))+u,16);r=F((u=t[3].charAt(2))+u,16);n=F((u=t[3].charAt(1))+u,16)}if(t[4]){t=t[4][v](K);n=j(t[0]);r=j(t[1]);s=j(t[2]);o=j(t[3])}if(t[5]){t=t[5][v](K);n=j(t[0])*2.55;r=j(t[1])*2.55;s=j(t[2])*2.55;o=j(t[3])}if(t[6]){t=t[6][v](K);n=j(t[0]);r=j(t[1]);s=j(t[2]);return e.hsb2rgb(n,r,s)}if(t[7]){t=t[7][v](K);n=j(t[0])*2.55;r=j(t[1])*2.55;s=j(t[2])*2.55;return e.hsb2rgb(n,r,s)}t={r:n,g:r,b:s};n=(~~n)[k](16);r=(~~r)[k](16);s=(~~s)[k](16);n=n[z](_,"0");r=r[z](_,"0");s=s[z](_,"0");t.hex="#"+n+r+s;isFinite(j(o))&&(t.o=o);return t}return{r:-1,g:-1,b:-1,hex:"none",error:1}},e);e.getColor=function(e){e=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75};var t=this.hsb2rgb(e.h,e.s,e.b);e.h+=.075;if(e.h>1){e.h=0;e.s-=.2;e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})}return t.hex};e.getColor.reset=function(){delete this.start};var Y=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,Z=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig;e.parsePathString=G(function(t){if(!t)return null;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];if(e.is(t,C)&&e.is(t[0],C))r=tt(t);r[b]||(t+p)[z](Y,function(e,t,i){var s=[];e=w.call(t);i[z](Z,function(e,t){t&&s[M](+t)});if(e=="m"&&s[b]>2){r[M]([t][c](s.splice(0,2)));e="l";t=t=="m"?"l":"L"}for(;s[b]>=n[e];){r[M]([t][c](s.splice(0,n[e])));if(!n[e])break}});r[k]=e._path2string;return r});e.findDotsAtSegment=function(e,t,n,r,i,s,o,u,a){var f=1-a,l=O(f,3)*e+O(f,2)*3*a*n+f*3*a*a*i+O(a,3)*o;f=O(f,3)*t+O(f,2)*3*a*r+f*3*a*a*s+O(a,3)*u;var c=e+2*a*(n-e)+a*a*(i-2*n+e),h=t+2*a*(r-t)+a*a*(s-2*r+t),p=n+2*a*(i-n)+a*a*(o-2*i+n),d=r+2*a*(s-r)+a*a*(u-2*s+r);e=(1-a)*e+a*n;t=(1-a)*t+a*r;i=(1-a)*i+a*o;s=(1-a)*s+a*u;u=90-E.atan((c-p)/(h-d))*180/E.PI;(c>p||h<d)&&(u+=180);return{x:l,y:f,m:{x:c,y:h},n:{x:p,y:d},start:{x:e,y:t},end:{x:i,y:s},alpha:u}};var et=G(function(e){if(!e)return{x:0,y:0,width:0,height:0};e=ft(e);for(var t=0,n=0,r=[],i=[],s,o=0,u=e[b];o<u;o++){s=e[o];if(s[0]=="M"){t=s[1];n=s[2];r[M](t);i[M](n)}else{t=at(t,n,s[1],s[2],s[3],s[4],s[5],s[6]);r=r[c](t.min.x,t.max.x);i=i[c](t.min.y,t.max.y);t=s[5];n=s[6]}}e=x[l](0,r);s=x[l](0,i);return{x:e,y:s,width:S[l](0,r)-e,height:S[l](0,i)-s}});var nt=G(function(t){if(!e.is(t,C)||!e.is(t&&t[0],C))t=e.parsePathString(t);var n=[],r=0,i=0,s=0,o=0,u=0;if(t[0][0]=="M"){r=t[0][1];i=t[0][2];s=r;o=i;u++;n[M](["M",r,i])}u=u;for(var a=t[b];u<a;u++){var f=n[u]=[],l=t[u];if(l[0]!=w.call(l[0])){f[0]=w.call(l[0]);switch(f[0]){case"a":f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=+(l[6]-r).toFixed(3);f[7]=+(l[7]-i).toFixed(3);break;case"v":f[1]=+(l[1]-i).toFixed(3);break;case"m":s=l[1];o=l[2];default:for(var c=1,h=l[b];c<h;c++)f[c]=+(l[c]-(c%2?r:i)).toFixed(3)}}else{n[u]=[];if(l[0]=="m"){s=l[1]+r;o=l[2]+i}f=0;for(c=l[b];f<c;f++)n[u][f]=l[f]}l=n[u][b];switch(n[u][0]){case"z":r=s;i=o;break;case"h":r+=+n[u][l-1];break;case"v":i+=+n[u][l-1];break;default:r+=+n[u][l-2];i+=+n[u][l-1]}}n[k]=e._path2string;return n},0,tt),rt=G(function(t){if(!e.is(t,C)||!e.is(t&&t[0],C))t=e.parsePathString(t);var n=[],r=0,i=0,s=0,o=0,u=0;if(t[0][0]=="M"){r=+t[0][1];i=+t[0][2];s=r;o=i;u++;n[0]=["M",r,i]}u=u;for(var a=t[b];u<a;u++){var f=n[u]=[],l=t[u];if(l[0]!=q.call(l[0])){f[0]=q.call(l[0]);switch(f[0]){case"A":f[1]=l[1];f[2]=l[2];f[3]=l[3];f[4]=l[4];f[5]=l[5];f[6]=+(l[6]+r);f[7]=+(l[7]+i);break;case"V":f[1]=+l[1]+i;break;case"H":f[1]=+l[1]+r;break;case"M":s=+l[1]+r;o=+l[2]+i;default:for(var c=1,h=l[b];c<h;c++)f[c]=+l[c]+(c%2?r:i)}}else{c=0;for(h=l[b];c<h;c++)n[u][c]=l[c]}switch(f[0]){case"Z":r=s;i=o;break;case"H":r=f[1];break;case"V":i=f[1];break;default:r=n[u][n[u][b]-2];i=n[u][n[u][b]-1]}}n[k]=e._path2string;return n},null,tt);var at=G(function(e,t,n,r,i,s,o,u){var a=i-2*n+e-(o-2*i+n),f=2*(n-e)-2*(i-n),c=e-n,h=(-f+E.sqrt(f*f-4*a*c))/2/a;a=(-f-E.sqrt(f*f-4*a*c))/2/a;var p=[t,u],d=[e,o];E.abs(h)>1e12&&(h=.5);E.abs(a)>1e12&&(a=.5);if(h>0&&h<1){h=ut(e,t,n,r,i,s,o,u,h);d[M](h.x);p[M](h.y)}if(a>0&&a<1){h=ut(e,t,n,r,i,s,o,u,a);d[M](h.x);p[M](h.y)}a=s-2*r+t-(u-2*s+r);f=2*(r-t)-2*(s-r);c=t-r;h=(-f+E.sqrt(f*f-4*a*c))/2/a;a=(-f-E.sqrt(f*f-4*a*c))/2/a;E.abs(h)>1e12&&(h=.5);E.abs(a)>1e12&&(a=.5);if(h>0&&h<1){h=ut(e,t,n,r,i,s,o,u,h);d[M](h.x);p[M](h.y)}if(a>0&&a<1){h=ut(e,t,n,r,i,s,o,u,a);d[M](h.x);p[M](h.y)}return{min:{x:x[l](0,d),y:x[l](0,p)},max:{x:S[l](0,d),y:S[l](0,p)}}}),ft=G(function(e,t){function i(e,t){var n;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1];t.Y=e[2];break;case"A":e=["C"][c](ot[l](0,[t.x,t.y][c](e.slice(1))));break;case"S":n=t.x+(t.x-(t.bx||t.x));t=t.y+(t.y-(t.by||t.y));e=["C",n,t][c](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x));t.qy=t.y+(t.y-(t.qy||t.y));e=["C"][c](st(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1];t.qy=e[2];e=["C"][c](st(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][c](it(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][c](it(t.x,t.y,e[1],t.y));break;case"V":e=["C"][c](it(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][c](it(t.x,t.y,t.X,t.Y));break}return e}function s(e,t){if(e[t][b]>7){e[t].shift();for(var i=e[t];i[b];)e.splice(t++,0,["C"][c](i.splice(0,6)));e.splice(t,1);a=S(n[b],r&&r[b]||0)}}function o(e,t,i,s,o){if(e&&t&&e[o][0]=="M"&&t[o][0]!="M"){t.splice(o,0,["M",s.x,s.y]);i.bx=0;i.by=0;i.x=e[o][1];i.y=e[o][2];a=S(n[b],r&&r[b]||0)}}var n=rt(e),r=t&&rt(t);e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(var u=0,a=S(n[b],r&&r[b]||0);u<a;u++){n[u]=i(n[u],e);s(n,u);r&&(r[u]=i(r[u],t));r&&s(r,u);o(n,r,e,t,u);o(r,n,t,e,u);var f=n[u],h=r&&r[u],p=f[b],d=r&&h[b];e.x=f[p-2];e.y=f[p-1];e.bx=j(f[p-4])||e.x;e.by=j(f[p-3])||e.y;t.bx=r&&(j(h[d-4])||t.x);t.by=r&&(j(h[d-3])||t.y);t.x=r&&h[d-2];t.y=r&&h[d-1]}return r?[n,r]:n},null,tt),lt=G(function(t){for(var n=[],r=0,i=t[b];r<i;r++){var s={},o=t[r].match(/^([^:]*):?([\d\.]*)/);s.color=e.getRGB(o[1]);if(s.color.error)return null;s.color=s.color.hex;o[2]&&(s.offset=o[2]+"%");n[M](s)}r=1;for(i=n[b]-1;r<i;r++)if(!n[r].offset){t=j(n[r-1].offset||0);o=0;for(s=r+1;s<i;s++)if(n[s].offset){o=n[s].offset;break}if(!o){o=100;s=i}o=j(o);for(o=(o-t)/(s-r+1);r<s;r++){t+=o;n[r].offset=t+"%"}}return n});var bt=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(e.svg){a[r].svgns="http://www.w3.org/2000/svg";a[r].xlink="http://www.w3.org/1999/xlink";H=function(e){return+e+(~~e===e)*.5};var wt=function(e,t){if(t)for(var n in t)t[i](n)&&e[B](n,t[n]+p);else{e=s.createElementNS(a[r].svgns,e);e.style.webkitTapHighlightColor="rgba(0,0,0,0)";return e}};e[k]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var Et=function(e,t){var n=wt("path");t.canvas&&t.canvas[f](n);t=new kt(n,t);t.type="path";Tt(t,{fill:"none",stroke:"#000",path:e});return t},St=function(t,n,r){var i="linear",o=.5,u=.5,a=t.style;n=(n+p)[z](bt,function(e,t,n){i="radial";if(t&&n){o=j(t);u=j(n);e=(u>.5)*2-1;O(o-.5,2)+O(u-.5,2)>.25&&(u=E.sqrt(.25-O(o-.5,2))*e+.5)&&u!=.5&&(u=u.toFixed(5)-1e-5*e)}return p});n=n[v](/\s*\-\s*/);if(i=="linear"){var l=n.shift();l=-j(l);if(isNaN(l))return null;l=[0,0,E.cos(l*E.PI/180),E.sin(l*E.PI/180)];var c=1/(S(E.abs(l[2]),E.abs(l[3]))||1);l[2]*=c;l[3]*=c;if(l[2]<0){l[0]=-l[2];l[2]=0}if(l[3]<0){l[1]=-l[3];l[3]=0}}n=lt(n);if(!n)return null;c=t.getAttribute(L);(c=c.match(/^url\(#(.*)\)$/))&&r.defs.removeChild(s.getElementById(c[1]));c=wt(i+"Gradient");c.id="r"+(e._id++)[k](36);wt(c,i=="radial"?{fx:o,fy:u}:{x1:l[0],y1:l[1],x2:l[2],y2:l[3]});r.defs[f](c);r=0;for(l=n[b];r<l;r++){var h=wt("stop");wt(h,{offset:n[r].offset?n[r].offset:!r?"0%":"100%","stop-color":n[r].color||"#fff"});c[f](h)}wt(t,{fill:"url(#"+c.id+")",opacity:1,"fill-opacity":1});a.fill=p;a.opacity=1;return a.fillOpacity=1},xt=function(t){var n=t.getBBox();wt(t.pattern,{patternTransform:e.format("translate({0},{1})",n.x,n.y)})},Tt=function(n,r){function c(e,t){if(t=o[w.call(t)]){var n=e.attrs["stroke-width"]||"1";e={round:n,square:n,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0;for(var i=[],s=t[b];s--;)i[s]=t[s]*n+(s%2?1:-1)*e;wt(u,{"stroke-dasharray":i[y](",")})}}var o={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},u=n.node,a=n.attrs,l=n.rotate();r[i]("rotation")&&(l=r.rotation);var h=(l+p)[v](t);if(h.length-1){h[1]=+h[1];h[2]=+h[2]}else h=null;j(l)&&n.rotate(0,true);for(var m in r)if(r[i](m))if(R[i](m)){var g=r[m];a[m]=g;switch(m){case"blur":n.blur(g);break;case"rotation":n.rotate(g,true);break;case"href":case"title":case"target":var E=u.parentNode;if(w.call(E.tagName)!="a"){var S=wt("a");E.insertBefore(S,u);S[f](u);E=S}E.setAttributeNS(n.paper.xlink,m,g);break;case"cursor":u.style.cursor=g;break;case"clip-rect":E=(g+p)[v](t);if(E[b]==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var x=wt("clipPath");S=wt("rect");x.id="r"+(e._id++)[k](36);wt(S,{x:E[0],y:E[1],width:E[2],height:E[3]});x[f](S);n.paper.defs[f](x);wt(u,{"clip-path":"url(#"+x.id+")"});n.clip=S}if(!g){(g=s.getElementById(u.getAttribute("clip-path")[z](/(^url\(#|\)$)/g,p)))&&g.parentNode.removeChild(g);wt(u,{"clip-path":p});delete n.clip}break;case"path":if(n.type=="path")wt(u,{d:g?a.path=rt(g):"M0,0"});break;case"width":u[B](m,g);if(a.fx){m="x";g=a.x}else break;case"x":if(a.fx)g=-a.x-(a.width||0);case"rx":if(m=="rx"&&n.type=="rect")break;case"cx":h&&(m=="x"||m=="cx")&&(h[1]+=g-a[m]);u[B](m,H(g));n.pattern&&xt(n);break;case"height":u[B](m,g);if(a.fy){m="y";g=a.y}else break;case"y":if(a.fy)g=-a.y-(a.height||0);case"ry":if(m=="ry"&&n.type=="rect")break;case"cy":h&&(m=="y"||m=="cy")&&(h[2]+=g-a[m]);u[B](m,H(g));n.pattern&&xt(n);break;case"r":n.type=="rect"?wt(u,{rx:g,ry:g}):u[B](m,g);break;case"src":n.type=="image"&&u.setAttributeNS(n.paper.xlink,"href",g);break;case"stroke-width":u.style.strokeWidth=g;u[B](m,g);a["stroke-dasharray"]&&c(n,a["stroke-dasharray"]);break;case"stroke-dasharray":c(n,g);break;case"translation":g=(g+p)[v](t);g[0]=+g[0]||0;g[1]=+g[1]||0;if(h){h[1]+=g[0];h[2]+=g[1]}an.call(n,g[0],g[1]);break;case"scale":g=(g+p)[v](t);n.scale(+g[0]||1,+g[1]||+g[0]||1,isNaN(j(g[2]))?null:+g[2],isNaN(j(g[3]))?null:+g[3]);break;case L:if(E=(g+p).match(D)){x=wt("pattern");var T=wt("image");x.id="r"+(e._id++)[k](36);wt(x,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});wt(T,{x:0,y:0});T.setAttributeNS(n.paper.xlink,"href",E[1]);x[f](T);g=s.createElement("img");g.style.cssText="position:absolute;left:-9999em;top-9999em";g.onload=function(){wt(x,{width:this.offsetWidth,height:this.offsetHeight});wt(T,{width:this.offsetWidth,height:this.offsetHeight});s.body.removeChild(this);n.paper.safari()};s.body[f](g);g.src=E[1];n.paper.defs[f](x);u.style.fill="url(#"+x.id+")";wt(u,{fill:"url(#"+x.id+")"});n.pattern=x;n.pattern&&xt(n);break}E=e.getRGB(g);if(E.error){if(({circle:1,ellipse:1}[i](n.type)||(g+p).charAt()!="r")&&St(u,g,n.paper)){a.gradient=g;a.fill="none";break}}else{delete r.gradient;delete a.gradient;!e.is(a.opacity,"undefined")&&e.is(r.opacity,"undefined")&&wt(u,{opacity:a.opacity});!e.is(a["fill-opacity"],"undefined")&&e.is(r["fill-opacity"],"undefined")&&wt(u,{"fill-opacity":a["fill-opacity"]})}E[i]("o")&&wt(u,{"fill-opacity":E.o/100});case"stroke":E=e.getRGB(g);u[B](m,E.hex);m=="stroke"&&E[i]("o")&&wt(u,{"stroke-opacity":E.o/100});break;case"gradient":((({circle:1,ellipse:1}))[i](n.type)||(g+p).charAt()!="r")&&St(u,g,n.paper);break;case"opacity":case"fill-opacity":if(a.gradient){if(E=s.getElementById(u.getAttribute(L)[z](/^url\(#|\)$/g,p))){E=E.getElementsByTagName("stop");E[E[b]-1][B]("stop-opacity",g)}break};default:m=="font-size"&&(g=F(g,10)+"px");E=m[z](/(\-.)/g,function(e){return q.call(e.substring(1))});u.style[E]=g;u[B](m,g);break}}Ct(n,r);if(h)n.rotate(h.join(d));else j(l)&&n.rotate(l,true)},Nt=1.2,Ct=function(e,t){if(!(e.type!="text"||!(t[i]("text")||t[i]("font")||t[i]("font-size")||t[i]("x")||t[i]("y")))){var n=e.attrs,r=e.node,o=r.firstChild?F(s.defaultView.getComputedStyle(r.firstChild,p).getPropertyValue("font-size"),10):10;if(t[i]("text")){for(n.text=t.text;r.firstChild;)r.removeChild(r.firstChild);t=(t.text+p)[v]("\n");for(var u=0,a=t[b];u<a;u++)if(t[u]){var l=wt("tspan");u&&wt(l,{dy:o*Nt,x:n.x});l[f](s.createTextNode(t[u]));r[f](l)}}else{t=r.getElementsByTagName("tspan");u=0;for(a=t[b];u<a;u++)u&&wt(t[u],{dy:o*Nt,x:n.x})}wt(r,{y:n.y});e=e.getBBox();(e=n.y-(e.y+e.height/2))&&isFinite(e)&&wt(r,{y:n.y+e})}},kt=function(t,n){this[0]=t;this.id=e._oid++;this.node=t;t.raphael=this;this.paper=n;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!n.bottom&&(n.bottom=this);(this.prev=n.top)&&(n.top.next=this);n.top=this;this.next=null};kt[r].rotate=function(n,r,i){if(this.removed)return this;if(n==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][y](d);return this._.rt.deg}var s=this.getBBox();n=(n+p)[v](t);if(n[b]-1){r=j(n[1]);i=j(n[2])}n=j(n[0]);if(r!=null)this._.rt.deg=n;else this._.rt.deg+=n;i==null&&(r=null);this._.rt.cx=r;this._.rt.cy=i;r=r==null?s.x+s.width/2:r;i=i==null?s.y+s.height/2:i;if(this._.rt.deg){this.transformations[0]=e.format("rotate({0} {1} {2})",this._.rt.deg,r,i);this.clip&&wt(this.clip,{transform:e.format("rotate({0} {1} {2})",-this._.rt.deg,r,i)})}else{this.transformations[0]=p;this.clip&&wt(this.clip,{transform:p})}wt(this.node,{transform:this.transformations[y](d)});return this};kt[r].hide=function(){!this.removed&&(this.node.style.display="none");return this};kt[r].show=function(){!this.removed&&(this.node.style.display="");return this};kt[r].remove=function(){if(!this.removed){pt(this,this.paper);this.node.parentNode.removeChild(this.node);for(var e in this)delete this[e];this.removed=true}};kt[r].getBBox=function(){if(this.removed)return this;if(this.type=="path")return et(this.attrs.path);if(this.node.style.display=="none"){this.show();var e=true}var t={};try{t=this.node.getBBox()}catch(n){}finally{t=t||{}}if(this.type=="text"){t={x:t.x,y:Infinity,width:0,height:0};for(var r=0,i=this.node.getNumberOfChars();r<i;r++){var s=this.node.getExtentOfChar(r);s.y<t.y&&(t.y=s.y);s.y+s.height-t.y>t.height&&(t.height=s.y+s.height-t.y);s.x+s.width-t.x>t.width&&(t.width=s.x+s.width-t.x)}}e&&this.hide();return t};kt[r].attr=function(t,n){if(this.removed)return this;if(t==null){t={};for(var r in this.attrs)if(this.attrs[i](r))t[r]=this.attrs[r];this._.rt.deg&&(t.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(t.scale=this.scale());t.gradient&&t.fill=="none"&&(t.fill=t.gradient)&&delete t.gradient;return t}if(n==null&&e.is(t,N)){if(t=="translation")return an.call(this);if(t=="rotation")return this.rotate();if(t=="scale")return this.scale();if(t==L&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[t]}if(n==null&&e.is(t,C)){n={};r=0;for(var s=t.length;r<s;r++)n[t[r]]=this.attr(t[r]);return n}if(n!=null){r={};r[t]=n;Tt(this,r)}else t!=null&&e.is(t,"object")&&Tt(this,t);return this};kt[r].toFront=function(){if(this.removed)return this;this.node.parentNode[f](this.node);var e=this.paper;e.top!=this&&dt(this,e);return this};kt[r].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);vt(this,this.paper)}return this};kt[r].insertAfter=function(e){if(this.removed)return this;var t=e.node;t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode[f](this.node);mt(this,e,this.paper);return this};kt[r].insertBefore=function(e){if(this.removed)return this;var t=e.node;t.parentNode.insertBefore(this.node,t);gt(this,e,this.paper);return this};kt[r].blur=function(t){var n=this;if(+t!==0){var r=wt("filter"),i=wt("feGaussianBlur");n.attrs.blur=t;r.id="r"+(e._id++)[k](36);wt(i,{stdDeviation:+t||1.5});r.appendChild(i);n.paper.defs.appendChild(r);n._blur=r;wt(n.node,{filter:"url(#"+r.id+")"})}else{if(n._blur){n._blur.parentNode.removeChild(n._blur);delete n._blur;delete n.attrs.blur}n.node.removeAttribute("filter")}};var Lt=function(e,t,n,r){t=H(t);n=H(n);var i=wt("circle");e.canvas&&e.canvas[f](i);e=new kt(i,e);e.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"};e.type="circle";wt(i,e.attrs);return e},At=function(e,t,n,r,i,s){t=H(t);n=H(n);var o=wt("rect");e.canvas&&e.canvas[f](o);e=new kt(o,e);e.attrs={x:t,y:n,width:r,height:i,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"};e.type="rect";wt(o,e.attrs);return e},Ot=function(e,t,n,r,i){t=H(t);n=H(n);var s=wt("ellipse");e.canvas&&e.canvas[f](s);e=new kt(s,e);e.attrs={cx:t,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"};e.type="ellipse";wt(s,e.attrs);return e},Mt=function(e,t,n,r,i,s){var o=wt("image");wt(o,{x:n,y:r,width:i,height:s,preserveAspectRatio:"none"});o.setAttributeNS(e.xlink,"href",t);e.canvas&&e.canvas[f](o);e=new kt(o,e);e.attrs={x:n,y:r,width:i,height:s,src:t};e.type="image";return e},_t=function(e,t,n,r){var i=wt("text");wt(i,{x:t,y:n,"text-anchor":"middle"});e.canvas&&e.canvas[f](i);e=new kt(i,e);e.attrs={x:t,y:n,"text-anchor":"middle",text:r,font:R.font,stroke:"none",fill:"#000"};e.type="text";Tt(e,e.attrs);return e},Dt=function(e,t){this.width=e||this.width;this.height=t||this.height;this.canvas[B]("width",this.width);this.canvas[B]("height",this.height);return this},Pt=function(){var t=ct[l](0,arguments),n=t&&t.container,r=t.x,i=t.y,o=t.width;t=t.height;if(!n)throw new Error("SVG container not found.");var u=wt("svg");r=r||0;i=i||0;o=o||512;t=t||342;wt(u,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:o,height:t});if(n==1){u.style.cssText="position:absolute;left:"+r+"px;top:"+i+"px";s.body[f](u)}else n.firstChild?n.insertBefore(u,n.firstChild):n[f](u);n=new a;n.width=o;n.height=t;n.canvas=u;ht.call(n,n,e.fn);n.clear();return n};a[r].clear=function(){for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null;(this.desc=wt("desc"))[f](s.createTextNode("Created with Raphaël"));e[f](this.desc);e[f](this.defs=wt("defs"))};a[r].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=yt(e)}}if(e.vml){var Ht={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Bt=/([clmz]),?([^clmz]*)/gi,jt=/-?[^,\s-]+/g,Ft=1e3+d+1e3,It=10,qt={path:1,rect:1},Rt=function(e){var t=/[ahqstv]/ig,n=rt;(e+p).match(t)&&(n=ft);t=/[clmz]/g;if(n==rt&&!(e+p).match(t))return e=(e+p)[z](Bt,function(e,t,n){var r=[],i=w.call(t)=="m",s=Ht[t];n[z](jt,function(e){if(i&&r[b]==2){s+=r+Ht[t=="m"?"l":"L"];r=[]}r[M](H(e*It))});return s+r});t=n(e);var r;e=[];for(var i=0,s=t[b];i<s;i++){n=t[i];r=w.call(t[i][0]);r=="z"&&(r="x");for(var o=1,u=n[b];o<u;o++)r+=H(n[o]*It)+(o!=u-1?",":p);e[M](r)}return e[y](d)};e[k]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};Et=function(e,t){var n=Wt("group");n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px";n.coordsize=t.coordsize;n.coordorigin=t.coordorigin;var r=Wt("shape"),i=r.style;i.width=t.width+"px";i.height=t.height+"px";r.coordsize=Ft;r.coordorigin=t.coordorigin;n[f](r);r=new kt(r,n,t);i={fill:"none",stroke:"#000"};e&&(i.path=e);r.isAbsolute=true;r.type="path";r.path=[];r.Path=p;Tt(r,i);t.canvas[f](n);return r};Tt=function(n,r){n.attrs=n.attrs||{};var o=n.node,u=n.attrs,a=o.style,l;l=(r.x!=u.x||r.y!=u.y||r.width!=u.width||r.height!=u.height||r.r!=u.r)&&n.type=="rect";var c=n;for(var h in r)if(r[i](h))u[h]=r[h];if(l){u.path=zt(u.x,u.y,u.width,u.height,u.r);n.X=u.x;n.Y=u.y;n.W=u.width;n.H=u.height}r.href&&(o.href=r.href);r.title&&(o.title=r.title);r.target&&(o.target=r.target);r.cursor&&(a.cursor=r.cursor);"blur"in r&&n.blur(r.blur);if(r.path&&n.type=="path"||l)o.path=Rt(u.path);r.rotation!=null&&n.rotate(r.rotation,true);if(r.translation){l=(r.translation+p)[v](t);an.call(n,l[0],l[1]);if(n._.rt.cx!=null){n._.rt.cx+=+l[0];n._.rt.cy+=+l[1];n.setBox(n.attrs,l[0],l[1])}}if(r.scale){l=(r.scale+p)[v](t);n.scale(+l[0]||1,+l[1]||+l[0]||1,+l[2]||null,+l[3]||null)}if("clip-rect"in r){l=(r["clip-rect"]+p)[v](t);if(l[b]==4){l[2]=+l[2]+ +l[0];l[3]=+l[3]+ +l[1];h=o.clipRect||s.createElement("div");var d=h.style,m=o.parentNode;d.clip=e.format("rect({1}px {2}px {3}px {0}px)",l);if(!o.clipRect){d.position="absolute";d.top=0;d.left=0;d.width=n.paper.width+"px";d.height=n.paper.height+"px";m.parentNode.insertBefore(h,m);h[f](m);o.clipRect=h}}if(!r["clip-rect"])o.clipRect&&(o.clipRect.style.clip=p)}if(n.type=="image"&&r.src)o.src=r.src;if(n.type=="image"&&r.opacity){o.filterOpacity=I+".Alpha(opacity="+r.opacity*100+")";a.filter=(o.filterMatrix||p)+(o.filterOpacity||p)}r.font&&(a.font=r.font);r["font-family"]&&(a.fontFamily='"'+r["font-family"][v](",")[0][z](/^['"]+|['"]+$/g,p)+'"');r["font-size"]&&(a.fontSize=r["font-size"]);r["font-weight"]&&(a.fontWeight=r["font-weight"]);r["font-style"]&&(a.fontStyle=r["font-style"]);if(r.opacity!=null||r["stroke-width"]!=null||r.fill!=null||r.stroke!=null||r["stroke-width"]!=null||r["stroke-opacity"]!=null||r["fill-opacity"]!=null||r["stroke-dasharray"]!=null||r["stroke-miterlimit"]!=null||r["stroke-linejoin"]!=null||r["stroke-linecap"]!=null){o=n.shape||o;a=o.getElementsByTagName(L)&&o.getElementsByTagName(L)[0];l=false;!a&&(l=a=Wt(L));if("fill-opacity"in r||"opacity"in r){n=((+u["fill-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+e.getRGB(r.fill).o+1||2)-1);n<0&&(n=0);n>1&&(n=1);a.opacity=n}r.fill&&(a.on=true);if(a.on==null||r.fill=="none")a.on=false;if(a.on&&r.fill)if(n=r.fill.match(D)){a.src=n[1];a.type="tile"}else{a.color=e.getRGB(r.fill).hex;a.src=p;a.type="solid";if(e.getRGB(r.fill).error&&(c.type in{circle:1,ellipse:1}||(r.fill+p).charAt()!="r")&&St(c,r.fill)){u.fill="none";u.gradient=r.fill}}l&&o[f](a);a=o.getElementsByTagName("stroke")&&o.getElementsByTagName("stroke")[0];l=false;!a&&(l=a=Wt("stroke"));if(r.stroke&&r.stroke!="none"||r["stroke-width"]||r["stroke-opacity"]!=null||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])a.on=true;(r.stroke=="none"||a.on==null||r.stroke==0||r["stroke-width"]==0)&&(a.on=false);n=e.getRGB(r.stroke);a.on&&r.stroke&&(a.color=n.hex);n=((+u["stroke-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+n.o+1||2)-1);h=(j(r["stroke-width"])||1)*.75;n<0&&(n=0);n>1&&(n=1);r["stroke-width"]==null&&(h=u["stroke-width"]);r["stroke-width"]&&(a.weight=h);h&&h<1&&(n*=h)&&(a.weight=1);a.opacity=n;r["stroke-linejoin"]&&(a.joinstyle=r["stroke-linejoin"]||"miter");a.miterlimit=r["stroke-miterlimit"]||8;r["stroke-linecap"]&&(a.endcap=r["stroke-linecap"]=="butt"?"flat":r["stroke-linecap"]=="square"?"square":"round");if(r["stroke-dasharray"]){n={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};a.dashstyle=n[i](r["stroke-dasharray"])?n[r["stroke-dasharray"]]:p}l&&o[f](a)}if(c.type=="text"){a=c.paper.span.style;u.font&&(a.font=u.font);u["font-family"]&&(a.fontFamily=u["font-family"]);u["font-size"]&&(a.fontSize=u["font-size"]);u["font-weight"]&&(a.fontWeight=u["font-weight"]);u["font-style"]&&(a.fontStyle=u["font-style"]);c.node.string&&(c.paper.span.innerHTML=(c.node.string+p)[z](/</g,"&#60;")[z](/&/g,"&#38;")[z](/\n/g,"<br>"));c.W=u.w=c.paper.span.offsetWidth;c.H=u.h=c.paper.span.offsetHeight;c.X=u.x;c.Y=u.y+H(c.H/2);switch(u["text-anchor"]){case"start":c.node.style["v-text-align"]="left";c.bbx=H(c.W/2);break;case"end":c.node.style["v-text-align"]="right";c.bbx=-H(c.W/2);break;default:c.node.style["v-text-align"]="center";break}}};St=function(e,t){e.attrs=e.attrs||{};var n="linear",r=".5 .5";e.attrs.gradient=t;t=(t+p)[z](bt,function(e,t,i){n="radial";if(t&&i){t=j(t);i=j(i);O(t-.5,2)+O(i-.5,2)>.25&&(i=E.sqrt(.25-O(t-.5,2))*((i>.5)*2-1)+.5);r=t+d+i}return p});t=t[v](/\s*\-\s*/);if(n=="linear"){var i=t.shift();i=-j(i);if(isNaN(i))return null}var s=lt(t);if(!s)return null;e=e.shape||e.node;t=e.getElementsByTagName(L)[0]||Wt(L);!t.parentNode&&e.appendChild(t);if(s[b]){t.on=true;t.method="none";t.color=s[0].color;t.color2=s[s[b]-1].color;e=[];for(var o=0,u=s[b];o<u;o++)s[o].offset&&e[M](s[o].offset+d+s[o].color);t.colors&&(t.colors.value=e[b]?e[y]():"0% "+t.color);if(n=="radial"){t.type="gradientradial";t.focus="100%";t.focussize=r;t.focusposition=r}else{t.type="gradient";t.angle=(270-i)%360}}return 1};kt=function(t,n,r){this[0]=t;this.id=e._oid++;this.node=t;t.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=n;this.paper=r;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!r.bottom&&(r.bottom=this);(this.prev=r.top)&&(r.top.next=this);r.top=this;this.next=null};kt[r].rotate=function(e,n,r){if(this.removed)return this;if(e==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][y](d);return this._.rt.deg}e=(e+p)[v](t);if(e[b]-1){n=j(e[1]);r=j(e[2])}e=j(e[0]);if(n!=null)this._.rt.deg=e;else this._.rt.deg+=e;r==null&&(n=null);this._.rt.cx=n;this._.rt.cy=r;this.setBox(this.attrs,n,r);this.Group.style.rotation=this._.rt.deg;return this};kt[r].setBox=function(e,t,n){if(this.removed)return this;var r=this.Group.style,s=this.shape&&this.shape.style||this.node.style;e=e||{};for(var o in e)if(e[i](o))this.attrs[o]=e[o];t=t||this._.rt.cx;n=n||this._.rt.cy;var u=this.attrs,a;switch(this.type){case"circle":e=u.cx-u.r;o=u.cy-u.r;a=u=u.r*2;break;case"ellipse":e=u.cx-u.rx;o=u.cy-u.ry;a=u.rx*2;u=u.ry*2;break;case"image":e=+u.x;o=+u.y;a=u.width||0;u=u.height||0;break;case"text":this.textpath.v=["m",H(u.x),", ",H(u.y-2),"l",H(u.x)+1,", ",H(u.y-2)][y](p);e=u.x-H(this.W/2);o=u.y-this.H/2;a=this.W;u=this.H;break;case"rect":case"path":if(this.attrs.path){u=et(this.attrs.path);e=u.x;o=u.y;a=u.width;u=u.height}else{o=e=0;a=this.paper.width;u=this.paper.height}break;default:o=e=0;a=this.paper.width;u=this.paper.height;break}t=t==null?e+a/2:t;n=n==null?o+u/2:n;t=t-this.paper.width/2;n=n-this.paper.height/2;var f;r.left!=(f=t+"px")&&(r.left=f);r.top!=(f=n+"px")&&(r.top=f);this.X=qt[i](this.type)?-t:e;this.Y=qt[i](this.type)?-n:o;this.W=a;this.H=u;if(qt[i](this.type)){s.left!=(f=-t*It+"px")&&(s.left=f);s.top!=(f=-n*It+"px")&&(s.top=f)}else if(this.type=="text"){s.left!=(f=-t+"px")&&(s.left=f);s.top!=(f=-n+"px")&&(s.top=f)}else{r.width!=(f=this.paper.width+"px")&&(r.width=f);r.height!=(f=this.paper.height+"px")&&(r.height=f);s.left!=(f=e-t+"px")&&(s.left=f);s.top!=(f=o-n+"px")&&(s.top=f);s.width!=(f=a+"px")&&(s.width=f);s.height!=(f=u+"px")&&(s.height=f)}};kt[r].hide=function(){!this.removed&&(this.Group.style.display="none");return this};kt[r].show=function(){!this.removed&&(this.Group.style.display="block");return this};kt[r].getBBox=function(){if(this.removed)return this;if(qt[i](this.type))return et(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};kt[r].remove=function(){if(!this.removed){pt(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)delete this[e];this.removed=true}};kt[r].attr=function(t,n){if(this.removed)return this;if(t==null){t={};for(var r in this.attrs)if(this.attrs[i](r))t[r]=this.attrs[r];this._.rt.deg&&(t.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(t.scale=this.scale());t.gradient&&t.fill=="none"&&(t.fill=t.gradient)&&delete t.gradient;return t}if(n==null&&e.is(t,N)){if(t=="translation")return an.call(this);if(t=="rotation")return this.rotate();if(t=="scale")return this.scale();if(t==L&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[t]}if(this.attrs&&n==null&&e.is(t,C)){var s={};r=0;for(n=t[b];r<n;r++)s[t[r]]=this.attr(t[r]);return s}if(n!=null){s={};s[t]=n}n==null&&e.is(t,"object")&&(s=t);if(s){if(s.text&&this.type=="text")this.node.string=s.text;Tt(this,s);if(s.gradient&&({circle:1,ellipse:1}[i](this.type)||(s.gradient+p).charAt()!="r"))St(this,s.gradient);(!qt[i](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};kt[r].toFront=function(){!this.removed&&this.Group.parentNode[f](this.Group);this.paper.top!=this&&dt(this,this.paper);return this};kt[r].toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);vt(this,this.paper)}return this};kt[r].insertAfter=function(e){if(this.removed)return this;e.Group.nextSibling?e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling):e.Group.parentNode[f](this.Group);mt(this,e,this.paper);return this};kt[r].insertBefore=function(e){if(this.removed)return this;e.Group.parentNode.insertBefore(this.Group,e.Group);gt(this,e,this.paper);return this};var Ut=/ progid:\S+Blur\([^\)]+\)/g;kt[r].blur=function(e){var t=this.node.style,n=t.filter;n=n.replace(Ut,"");if(+e!==0){this.attrs.blur=e;t.filter=n+I+".Blur(pixelradius="+(+e||1.5)+")";t.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+e||1.5))}else{t.filter=n;t.margin=0;delete this.attrs.blur}};Lt=function(e,t,n,r){var i=Wt("group"),s=Wt("oval");i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";i.coordsize=Ft;i.coordorigin=e.coordorigin;i[f](s);s=new kt(s,i,e);s.type="circle";Tt(s,{stroke:"#000",fill:"none"});s.attrs.cx=t;s.attrs.cy=n;s.attrs.r=r;s.setBox({x:t-r,y:n-r,width:r*2,height:r*2});e.canvas[f](i);return s};function zt(t,n,r,i,s){return s?e.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+s,n,r-s*2,s,-s,i-s*2,s*2-r,s*2-i):e.format("M{0},{1}l{2},0,0,{3},{4},0z",t,n,r,i,-r)}At=function(e,t,n,r,i,s){var o=zt(t,n,r,i,s);e=e.path(o);var u=e.attrs;e.X=u.x=t;e.Y=u.y=n;e.W=u.width=r;e.H=u.height=i;u.r=s;u.path=o;e.type="rect";return e};Ot=function(e,t,n,r,i){var s=Wt("group"),o=Wt("oval");s.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";s.coordsize=Ft;s.coordorigin=e.coordorigin;s[f](o);o=new kt(o,s,e);o.type="ellipse";Tt(o,{stroke:"#000"});o.attrs.cx=t;o.attrs.cy=n;o.attrs.rx=r;o.attrs.ry=i;o.setBox({x:t-r,y:n-i,width:r*2,height:i*2});e.canvas[f](s);return o};Mt=function(e,t,n,r,i,s){var o=Wt("group"),u=Wt("image");o.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";o.coordsize=Ft;o.coordorigin=e.coordorigin;u.src=t;o[f](u);u=new kt(u,o,e);u.type="image";u.attrs.src=t;u.attrs.x=n;u.attrs.y=r;u.attrs.w=i;u.attrs.h=s;u.setBox({x:n,y:r,width:i,height:s});e.canvas[f](o);return u};_t=function(t,n,r,i){var s=Wt("group"),o=Wt("shape"),u=o.style,a=Wt("path"),l=Wt("textpath");s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px";s.coordsize=Ft;s.coordorigin=t.coordorigin;a.v=e.format("m{0},{1}l{2},{1}",H(n*10),H(r*10),H(n*10)+1);a.textpathok=true;u.width=t.width;u.height=t.height;l.string=i+p;l.on=true;o[f](l);o[f](a);s[f](o);u=new kt(l,s,t);u.shape=o;u.textpath=a;u.type="text";u.attrs.text=i;u.attrs.x=n;u.attrs.y=r;u.attrs.w=1;u.attrs.h=1;Tt(u,{font:R.font,stroke:"none",fill:"#000"});u.setBox();t.canvas[f](s);return u};Dt=function(e,t){var n=this.canvas.style;e==+e&&(e+="px");t==+t&&(t+="px");n.width=e;n.height=t;n.clip="rect(0 "+e+" "+t+" 0)";return this};var Wt;s.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!s.namespaces.rvml&&s.namespaces.add("rvml","urn:schemas-microsoft-com:vml");Wt=function(e){return s.createElement("<rvml:"+e+' class="rvml">')}}catch(Xt){Wt=function(e){return s.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Pt=function(){var t=ct[l](0,arguments),n=t.container,r=t.height,i=t.width,o=t.x;t=t.y;if(!n)throw new Error("VML container not found.");var u=new a,c=u.canvas=s.createElement("div"),h=c.style;o=o||0;t=t||0;i=i||512;r=r||342;i==+i&&(i+="px");r==+r&&(r+="px");u.width=1e3;u.height=1e3;u.coordsize=It*1e3+d+It*1e3;u.coordorigin="0 0";u.span=s.createElement("span");u.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";c[f](u.span);h.cssText=e.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r);if(n==1){s.body[f](c);h.left=o+"px";h.top=t+"px";h.position="absolute"}else n.firstChild?n.insertBefore(c,n.firstChild):n[f](c);ht.call(u,u,e.fn);return u};a[r].clear=function(){this.canvas.innerHTML=p;this.span=s.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[f](this.span);this.bottom=this.top=null};a[r].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=yt(e);return true}}a[r].safari=/^Apple|^Google/.test(o.navigator.vendor)&&(!(o.navigator.userAgent.indexOf("Version/4.0")+1)||o.navigator.platform.slice(0,2)=="iP")?function(){var e=this.rect(-99,-99,this.width+99,this.height+99);o.setTimeout(function(){e.remove()})}:function(){};var Qt=function(){if(s.addEventListener)return function(e,t,n,r){function o(s){if(h&&g[i](t))for(var o=0,u=s.targetTouches&&s.targetTouches.length;o<u;o++)if(s.targetTouches[o].target==e){u=s;s=s.targetTouches[o];s.originalEvent=u;s.preventDefault=$t;s.stopPropagation=Kt;break}return n.call(r,s)}var s=h&&g[t]?g[t]:t;e.addEventListener(s,o,false);return function(){e.removeEventListener(s,o,false);return true}};else if(s.attachEvent)return function(e,t,n,r){function i(e){e=e||o.event;e.preventDefault=e.preventDefault||Vt;e.stopPropagation=e.stopPropagation||Jt;return n.call(r,e)}function s(){e.detachEvent("on"+t,i);return true}e.attachEvent("on"+t,i);return s}}();for(W=m[b];W--;)(function(t){e[t]=kt[r][t]=function(n){if(e.is(n,"function")){this.events=this.events||[];this.events.push({name:t,f:n,unbind:Qt(this.shape||this.node||s,t,n,this)})}return this};e["un"+t]=kt[r]["un"+t]=function(e){for(var n=this.events,r=n[b];r--;)if(n[r].name==t&&n[r].f==e){n[r].unbind();n.splice(r,1);!n.length&&delete this.events;return this}return this}})(m[W]);kt[r].hover=function(e,t){return this.mouseover(e).mouseout(t)};kt[r].unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};kt[r].drag=function(e,t,n){function i(t){var n=t.clientX,i=t.clientY;if(h)for(var s=t.touches.length,o;s--;){o=t.touches[s];if(o.identifier==r._drag.id){n=o.clientX;i=o.clientY;(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();e&&e.call(r,n-r._drag.x,i-r._drag.y,n,i)}function s(){r._drag={};Raphael.unmousemove(i).unmouseup(s);n&&n.call(r)}this._drag={};var r=this.mousedown(function(e){(e.originalEvent?e.originalEvent:e).preventDefault();this._drag.x=e.clientX;this._drag.y=e.clientY;this._drag.id=e.identifier;t&&t.call(this,e.clientX,e.clientY);Raphael.mousemove(i).mouseup(s)});return this};a[r].circle=function(e,t,n){return Lt(this,e||0,t||0,n||0)};a[r].rect=function(e,t,n,r,i){return At(this,e||0,t||0,n||0,r||0,i||0)};a[r].ellipse=function(e,t,n,r){return Ot(this,e||0,t||0,n||0,r||0)};a[r].path=function(t){t&&!e.is(t,N)&&!e.is(t[0],C)&&(t+=p);return Et(e.format[l](e,arguments),this)};a[r].image=function(e,t,n,r,i){return Mt(this,e||"about:blank",t||0,n||0,r||0,i||0)};a[r].text=function(e,t,n){return _t(this,e||0,t||0,n||p)};a[r].set=function(e){arguments[b]>1&&(e=Array[r].splice.call(arguments,0,arguments[b]));return new ln(e)};a[r].setSize=Dt;a[r].top=a[r].bottom=null;a[r].raphael=e;kt[r].resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};kt[r].scale=function(e,t,n,r){if(this.removed)return this;if(e==null&&t==null)return{x:this._.sx,y:this._.sy,toString:Gt};t=t||e;!+t&&(t=e);var i,s,o=this.attrs;if(e!=0){var u=this.getBBox(),a=u.x+u.width/2,f=u.y+u.height/2;i=e/this._.sx;s=t/this._.sy;n=+n||n==0?n:a;r=+r||r==0?r:f;u=~~(e/E.abs(e));var l=~~(t/E.abs(t)),h=this.node.style,v=n+(a-n)*i;f=r+(f-r)*s;switch(this.type){case"rect":case"image":var m=o.width*u*i,g=o.height*l*s;this.attr({height:g,r:o.r*x(u*i,l*s),width:m,x:v-m/2,y:f-g/2});break;case"circle":case"ellipse":this.attr({rx:o.rx*u*i,ry:o.ry*l*s,r:o.r*x(u*i,l*s),cx:v,cy:f});break;case"text":this.attr({x:v,y:f});break;case"path":a=nt(o.path);for(var w=true,S=0,T=a[b];S<T;S++){var N=a[S],C=q.call(N[0]);if(!(C=="M"&&w)){w=false;if(C=="A"){N[a[S][b]-2]*=i;N[a[S][b]-1]*=s;N[1]*=u*i;N[2]*=l*s;N[5]=+!(u+l?!+N[5]:+N[5])}else if(C=="H"){C=1;for(var k=N[b];C<k;C++)N[C]*=i}else if(C=="V"){C=1;for(k=N[b];C<k;C++)N[C]*=s}else{C=1;for(k=N[b];C<k;C++)N[C]*=C%2?i:s}}}s=et(a);i=v-s.x-s.width/2;s=f-s.y-s.height/2;a[0][1]+=i;a[0][2]+=s;this.attr({path:a});break}if(this.type in{text:1,image:1}&&(u!=1||l!=1))if(this.transformations){this.transformations[2]="scale("[c](u,",",l,")");this.node[B]("transform",this.transformations[y](d));i=u==-1?-o.x-(m||0):o.x;s=l==-1?-o.y-(g||0):o.y;this.attr({x:i,y:s});o.fx=u-1;o.fy=l-1}else{this.node.filterMatrix=I+".Matrix(M11="[c](u,", M12=0, M21=0, M22=",l,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");h.filter=(this.node.filterMatrix||p)+(this.node.filterOpacity||p)}else if(this.transformations){this.transformations[2]=p;this.node[B]("transform",this.transformations[y](d));o.fx=0;o.fy=0}else{this.node.filterMatrix=p;h.filter=(this.node.filterMatrix||p)+(this.node.filterOpacity||p)}o.scale=[e,t,n,r][y](d);this._.sx=e;this._.sy=t}return this};kt[r].clone=function(){if(this.removed)return null;var e=this.attr();delete e.scale;delete e.translation;return this.paper[this.type]().attr(e)};var Yt=G(function(t,n,r,i,s,o,u,a,f){for(var l=0,c,h=0;h<1.001;h+=.001){var p=e.findDotsAtSegment(t,n,r,i,s,o,u,a,h);h&&(l+=O(O(c.x-p.x,2)+O(c.y-p.y,2),.5));if(l>=f)return p;c=p}});var en=G(function(e,t,n,r,i,s,o,u){for(var a={x:0,y:0},f=0,l=0;l<1.01;l+=.01){var c=ut(e,t,n,r,i,s,o,u,l);l&&(f+=O(O(a.x-c.x,2)+O(a.y-c.y,2),.5));a=c}return f}),tn=Zt(1),nn=Zt(),rn=Zt(0,1);kt[r].getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return tn(this.attrs.path)}};kt[r].getPointAtLength=function(e){if(this.type=="path")return nn(this.attrs.path,e)};kt[r].getSubpath=function(e,t){if(this.type=="path"){if(E.abs(this.getTotalLength()-t)<1e-6)return rn(this.attrs.path,e).end;t=rn(this.attrs.path,t,1);return e?rn(t,e).end:t}};e.easing_formulas={linear:function(e){return e},"<":function(e){return O(e,3)},">":function(e){return O(e-1,3)+1},"<>":function(e){e*=2;if(e<1)return O(e,3)/2;e-=2;return(O(e,3)+2)/2},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){if(e==0||e==1)return e;var t=.3,n=t/4;return O(2,-10*e)*E.sin((e-n)*2*E.PI/t)+1},bounce:function(e){var t=7.5625,n=2.75;if(e<1/n)e=t*e*e;else if(e<2/n){e-=1.5/n;e=t*e*e+.75}else if(e<2.5/n){e-=2.25/n;e=t*e*e+.9375}else{e-=2.625/n;e=t*e*e+.984375}return e}};var sn={length:0};kt[r].animateWith=function(e,t,n,r,i){sn[e.id]&&(t.start=sn[e.id].start);return this.animate(t,n,r,i)};kt[r].animateAlong=fn();kt[r].animateAlongBack=fn(1);kt[r].onAnimation=function(e){this._run=e||0;return this};kt[r].animate=function(n,r,s,o){if(e.is(s,"function")||!s)o=s||null;var u={},a={},f={};for(var l in n)if(n[i](l))if(U[i](l)){u[l]=this.attr(l);u[l]==null&&(u[l]=R[l]);a[l]=n[l];switch(U[l]){case"along":var c=tn(n[l]),h=nn(n[l],c*!!n.back),d=this.getBBox();f[l]=c/r;f.tx=d.x;f.ty=d.y;f.sx=h.x;f.sy=h.y;a.rot=n.rot;a.back=n.back;a.len=c;n.rot&&(f.r=j(this.rotate())||0);break;case T:f[l]=(a[l]-u[l])/r;break;case"colour":u[l]=e.getRGB(u[l]);c=e.getRGB(a[l]);f[l]={r:(c.r-u[l].r)/r,g:(c.g-u[l].g)/r,b:(c.b-u[l].b)/r};break;case"path":c=ft(u[l],a[l]);u[l]=c[0];h=c[1];f[l]=[];c=0;for(d=u[l][b];c<d;c++){f[l][c]=[0];for(var m=1,g=u[l][c][b];m<g;m++)f[l][c][m]=(h[c][m]-u[l][c][m])/r}break;case"csv":h=(n[l]+p)[v](t);c=(u[l]+p)[v](t);switch(l){case"translation":u[l]=[0,0];f[l]=[h[0]/r,h[1]/r];break;case"rotation":u[l]=c[1]==h[1]&&c[2]==h[2]?c:[0,h[1],h[2]];f[l]=[(h[0]-u[l][0])/r,0,0];break;case"scale":n[l]=h;u[l]=(u[l]+p)[v](t);f[l]=[(h[0]-u[l][0])/r,(h[1]-u[l][1])/r,0,0];break;case"clip-rect":u[l]=(u[l]+p)[v](t);f[l]=[];for(c=4;c--;)f[l][c]=(h[c]-u[l][c])/r;break}a[l]=h}}this.stop();this.in_animation=1;sn[this.id]={start:n.start||+(new Date),ms:r,easing:s,from:u,diff:f,to:a,el:this,callback:o,t:{x:0,y:0}};++sn[b]==1&&on();return this};kt[r].stop=function(){sn[this.id]&&sn[b]--;delete sn[this.id];return this};kt[r].translate=function(e,t){return this.attr({translation:e+" "+t})};kt[r][k]=function(){return"Raphaël’s object"};e.ae=sn;ln[r][M]=function(){for(var e,t,n=0,r=arguments[b];n<r;n++)if((e=arguments[n])&&(e.constructor==kt||e.constructor==ln)){t=this.items[b];this[t]=this.items[t]=e;this[b]++}return this};ln[r].pop=function(){delete this[this[b]--];return this.items.pop()};for(var cn in kt[r])if(kt[r][i](cn))ln[r][cn]=function(e){return function(){for(var t=0,n=this.items[b];t<n;t++)this.items[t][e][l](this.items[t],arguments);return this}}(cn);ln[r].attr=function(t,n){if(t&&e.is(t,C)&&e.is(t[0],"object")){n=0;for(var r=t[b];n<r;n++)this.items[n].attr(t[n])}else{r=0;for(var i=this.items[b];r<i;r++)this.items[r].attr(t,n)}return this};ln[r].animate=function(t,n,r,i){(e.is(r,"function")||!r)&&(i=r||null);var s=this.items[b],o=s,u,a=this,f;i&&(f=function(){!--s&&i.call(a)});r=e.is(r,N)?r:f;for(u=this.items[--o].animate(t,n,r,f);o--;)this.items[o].animateWith(u,t,n,r,f);return this};ln[r].insertAfter=function(e){for(var t=this.items[b];t--;)this.items[t].insertAfter(e);return this};ln[r].getBBox=function(){for(var e=[],t=[],n=[],r=[],i=this.items[b];i--;){var s=this.items[i].getBBox();e[M](s.x);t[M](s.y);n[M](s.x+s.width);r[M](s.y+s.height)}e=x[l](0,e);t=x[l](0,t);return{x:e,y:t,width:S[l](0,n)-e,height:S[l](0,r)-t}};ln[r].clone=function(e){e=new ln;for(var t=0,n=this.items[b];t<n;t++)e[M](this.items[t].clone());return e};e.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)if(e.face[i](r))t.face[r]=e.face[r];if(this.fonts[n])this.fonts[n][M](t);else this.fonts[n]=[t];if(!e.svg){t.face["units-per-em"]=F(e.face["units-per-em"],10);for(var s in e.glyphs)if(e.glyphs[i](s)){n=e.glyphs[s];t.glyphs[s]={w:n.w,k:{},d:n.d&&"M"+n.d[z](/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"};if(n.k)for(var o in n.k)if(n[i](o))t.glyphs[s].k[o]=n.k[o]}}return e};a[r].getFont=function(t,n,r,s){s=s||"normal";r=r||"normal";n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400;if(e.fonts){var o=e.fonts[t];if(!o){t=new RegExp("(^|\\s)"+t[z](/[^\w\d\s+!~.:_-]/g,p)+"(\\s|$)","i");for(var u in e.fonts)if(e.fonts[i](u))if(t.test(u)){o=e.fonts[u];break}}var a;if(o){u=0;for(t=o[b];u<t;u++){a=o[u];if(a.face["font-weight"]==n&&(a.face["font-style"]==r||!a.face["font-style"])&&a.face["font-stretch"]==s)break}}return a}};a[r].print=function(n,r,i,s,o,u){u=u||"middle";var a=this.set(),f=(i+p)[v](p),l=0;e.is(s,i)&&(s=this.getFont(s));if(s){i=(o||16)/s.face["units-per-em"];var c=s.face.bbox.split(t);o=+c[0];u=+c[1]+(u=="baseline"?c[3]-c[1]+ +s.face.descent:(c[3]-c[1])/2);c=0;for(var h=f[b];c<h;c++){var d=c&&s.glyphs[f[c-1]]||{},m=s.glyphs[f[c]];l+=c?(d.w||s.w)+(d.k&&d.k[f[c]]||0):0;m&&m.d&&a[M](this.path(m.d).attr({fill:"#000",stroke:"none",translation:[l,0]}))}a.scale(i,i,o,u).translate(n-o,r-u)}return a};var hn=/\{(\d+)\}/g;e.format=function(t,n){var r=e.is(n,C)?[0][c](n):arguments;t&&e.is(t,N)&&r[b]-1&&(t=t[z](hn,function(e,t){return r[++t]==null?p:r[t]}));return t||p};e.ninja=function(){u.was?Raphael=u.is:delete Raphael;return e};e.el=kt[r];return e}();(function(){function t(t){this.tokens=[];this.tokens.links={};this.options=t||f.defaults;this.rules=e.normal;if(this.options.gfm){if(this.options.tables){this.rules=e.tables}else{this.rules=e.gfm}}}function r(e,t){this.options=t||f.defaults;this.links=e;this.rules=n.normal;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=n.breaks}else{this.rules=n.gfm}}else if(this.options.pedantic){this.rules=n.pedantic}}function i(e){this.tokens=[];this.token=null;this.options=e||f.defaults}function s(e,t){return e.replace(!t?/&(?!#?\w+;)/g:/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e,t){e=e.source;t=t||"";return function n(r,i){if(!r)return new RegExp(e,t);i=i.source||i;i=i.replace(/(^|[^\[])\^/g,"$1");e=e.replace(r,i);return n}}function u(){}function a(e){var t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e}function f(e,n){try{if(n)n=a({},f.defaults,n);return i.parse(t.lex(e,n),n)}catch(r){r.message+="\nPlease report this to https://github.com/chjj/marked.";if((n||f.defaults).silent){return"An error occured:\n"+r.message}throw r}}var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};e.bullet=/(?:[*+-]|\d+\.)/;e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;e.item=o(e.item,"gm")(/bull/g,e.bullet)();e.list=o(e.list)(/bull/g,e.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();e._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b";e.html=o(e.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,e._tag)();e.paragraph=o(e.paragraph)("hr",e.hr)("heading",e.heading)("lheading",e.lheading)("blockquote",e.blockquote)("tag","<"+e._tag)("def",e.def)();e.normal=a({},e);e.gfm=a({},e.normal,{fences:/^ *(`{3,}|~{3,}) *(\w+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});e.gfm.paragraph=o(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|")();e.tables=a({},e.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});t.rules=e;t.lex=function(e,n){var r=new t(n);return r.lex(e)};t.prototype.lex=function(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(e,true)};t.prototype.token=function(t,n){var t=t.replace(/^ +$/gm,""),r,i,s,o,u,a,f,l,c;while(t){if(s=this.rules.newline.exec(t)){t=t.substring(s[0].length);if(s[0].length>1){this.tokens.push({type:"space"})}}if(s=this.rules.code.exec(t)){t=t.substring(s[0].length);s=s[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?s.replace(/\n+$/,""):s});continue}if(s=this.rules.fences.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"code",lang:s[2],text:s[3]});continue}if(s=this.rules.heading.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});continue}if(n&&(s=this.rules.nptable.exec(t))){t=t.substring(s[0].length);a={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")};for(l=0;l<a.align.length;l++){if(/^ *-+: *$/.test(a.align[l])){a.align[l]="right"}else if(/^ *:-+: *$/.test(a.align[l])){a.align[l]="center"}else if(/^ *:-+ *$/.test(a.align[l])){a.align[l]="left"}else{a.align[l]=null}}for(l=0;l<a.cells.length;l++){a.cells[l]=a.cells[l].split(/ *\| */)}this.tokens.push(a);continue}if(s=this.rules.lheading.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"heading",depth:s[2]==="="?1:2,text:s[1]});continue}if(s=this.rules.hr.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"hr"});continue}if(s=this.rules.blockquote.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"blockquote_start"});s=s[0].replace(/^ *> ?/gm,"");this.token(s,n);this.tokens.push({type:"blockquote_end"});continue}if(s=this.rules.list.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"list_start",ordered:isFinite(s[2])});s=s[0].match(this.rules.item);if(this.options.smartLists){o=e.bullet.exec(s[0])[0]}r=false;c=s.length;l=0;for(;l<c;l++){a=s[l];f=a.length;a=a.replace(/^ *([*+-]|\d+\.) +/,"");if(~a.indexOf("\n ")){f-=a.length;a=!this.options.pedantic?a.replace(new RegExp("^ {1,"+f+"}","gm"),""):a.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&l!==c-1){u=e.bullet.exec(s[l+1])[0];if(o!==u&&!(o[1]==="."&&u[1]===".")){t=s.slice(l+1).join("\n")+t;l=c-1}}i=r||/\n\n(?!\s*$)/.test(a);if(l!==c-1){r=a[a.length-1]==="\n";if(!i)i=r}this.tokens.push({type:i?"loose_item_start":"list_item_start"});this.token(a,false);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(s=this.rules.html.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:s[1]==="pre",text:s[0]});continue}if(n&&(s=this.rules.def.exec(t))){t=t.substring(s[0].length);this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};continue}if(n&&(s=this.rules.table.exec(t))){t=t.substring(s[0].length);a={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(l=0;l<a.align.length;l++){if(/^ *-+: *$/.test(a.align[l])){a.align[l]="right"}else if(/^ *:-+: *$/.test(a.align[l])){a.align[l]="center"}else if(/^ *:-+ *$/.test(a.align[l])){a.align[l]="left"}else{a.align[l]=null}}for(l=0;l<a.cells.length;l++){a.cells[l]=a.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(a);continue}if(n&&(s=this.rules.paragraph.exec(t))){t=t.substring(s[0].length);this.tokens.push({type:"paragraph",text:s[1][s[1].length-1]==="\n"?s[1].slice(0,-1):s[1]});continue}if(s=this.rules.text.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"text",text:s[0]});continue}if(t){throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}}return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};n._inside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/;n._href=/\s*<?([^\s]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;n.link=o(n.link)("inside",n._inside)("href",n._href)();n.reflink=o(n.reflink)("inside",n._inside)();n.normal=a({},n);n.pedantic=a({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});n.gfm=a({},n.normal,{escape:o(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:o(n.text)("]|","~]|")("|","|https?://|")()});n.breaks=a({},n.gfm,{br:o(n.br)("{2,}","*")(),text:o(n.gfm.text)("{2,}","*")()});r.rules=n;r.output=function(e,t,n){var i=new r(t,n);return i.output(e)};r.prototype.output=function(e){var t="",n,r,i,o;while(e){if(o=this.rules.escape.exec(e)){e=e.substring(o[0].length);t+=o[1];continue}if(o=this.rules.autolink.exec(e)){e=e.substring(o[0].length);if(o[2]==="@"){r=o[1][6]===":"?this.mangle(o[1].substring(7)):this.mangle(o[1]);i=this.mangle("mailto:")+r}else{r=s(o[1]);i=r}t+='<a href="'+i+'">'+r+"</a>";continue}if(o=this.rules.url.exec(e)){e=e.substring(o[0].length);r=s(o[1]);i=r;t+='<a href="'+i+'">'+r+"</a>";continue}if(o=this.rules.tag.exec(e)){e=e.substring(o[0].length);t+=this.options.sanitize?s(o[0]):o[0];continue}if(o=this.rules.link.exec(e)){e=e.substring(o[0].length);t+=this.outputLink(o,{href:o[2],title:o[3]});continue}if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){e=e.substring(o[0].length);n=(o[2]||o[1]).replace(/\s+/g," ");n=this.links[n.toLowerCase()];if(!n||!n.href){t+=o[0][0];e=o[0].substring(1)+e;continue}t+=this.outputLink(o,n);continue}if(o=this.rules.strong.exec(e)){e=e.substring(o[0].length);t+="<strong>"+this.output(o[2]||o[1])+"</strong>";continue}if(o=this.rules.em.exec(e)){e=e.substring(o[0].length);t+="<em>"+this.output(o[2]||o[1])+"</em>";continue}if(o=this.rules.code.exec(e)){e=e.substring(o[0].length);t+="<code>"+s(o[2],true)+"</code>";continue}if(o=this.rules.br.exec(e)){e=e.substring(o[0].length);t+="<br>";continue}if(o=this.rules.del.exec(e)){e=e.substring(o[0].length);t+="<del>"+this.output(o[1])+"</del>";continue}if(o=this.rules.text.exec(e)){e=e.substring(o[0].length);t+=s(o[0]);continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return t};r.prototype.outputLink=function(e,t){if(e[0][0]!=="!"){return'<a href="'+s(t.href)+'"'+(t.title?' title="'+s(t.title)+'"':"")+">"+this.output(e[1])+"</a>"}else{return'<img src="'+s(t.href)+'" alt="'+s(e[1])+'"'+(t.title?' title="'+s(t.title)+'"':"")+">"}};r.prototype.mangle=function(e){var t="",n=e.length,r=0,i;for(;r<n;r++){i=e.charCodeAt(r);if(Math.random()>.5){i="x"+i.toString(16)}t+="&#"+i+";"}return t};i.parse=function(e,t){var n=new i(t);return n.parse(e)};i.prototype.parse=function(e){this.inline=new r(e.links,this.options);this.tokens=e.reverse();var t="";while(this.next()){t+=this.tok()}return t};i.prototype.next=function(){return this.token=this.tokens.pop()};i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};i.prototype.parseText=function(){var e=this.token.text;while(this.peek().type==="text"){e+="\n"+this.next().text}return this.inline.output(e)};i.prototype.tok=function(){switch(this.token.type){case"space":{return""};case"hr":{return"<hr>\n"};case"heading":{return"<h"+this.token.depth+">"+this.inline.output(this.token.text)+"</h"+this.token.depth+">\n"};case"code":{if(this.options.highlight){var e=this.options.highlight(this.token.text,this.token.lang);if(e!=null&&e!==this.token.text){this.token.escaped=true;this.token.text=e}}if(!this.token.escaped){this.token.text=s(this.token.text,true)}return"<pre><code"+(this.token.lang?' class="'+this.options.langPrefix+this.token.lang+'"':"")+">"+this.token.text+"</code></pre>\n"};case"table":{var t="",n,r,i,o,u;t+="<thead>\n<tr>\n";for(r=0;r<this.token.header.length;r++){n=this.inline.output(this.token.header[r]);t+=this.token.align[r]?'<th align="'+this.token.align[r]+'">'+n+"</th>\n":"<th>"+n+"</th>\n"}t+="</tr>\n</thead>\n";t+="<tbody>\n";for(r=0;r<this.token.cells.length;r++){i=this.token.cells[r];t+="<tr>\n";for(u=0;u<i.length;u++){o=this.inline.output(i[u]);t+=this.token.align[u]?'<td align="'+this.token.align[u]+'">'+o+"</td>\n":"<td>"+o+"</td>\n"}t+="</tr>\n"}t+="</tbody>\n";return"<table>\n"+t+"</table>\n"};case"blockquote_start":{var t="";while(this.next().type!=="blockquote_end"){t+=this.tok()}return"<blockquote>\n"+t+"</blockquote>\n"};case"list_start":{var a=this.token.ordered?"ol":"ul",t="";while(this.next().type!=="list_end"){t+=this.tok()}return"<"+a+">\n"+t+"</"+a+">\n"};case"list_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.token.type==="text"?this.parseText():this.tok()}return"<li>"+t+"</li>\n"};case"loose_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.tok()}return"<li>"+t+"</li>\n"};case"html":{return!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text};case"paragraph":{return"<p>"+this.inline.output(this.token.text)+"</p>\n"};case"text":{return"<p>"+this.parseText()+"</p>\n"}}};u.exec=u;f.options=f.setOptions=function(e){a(f.defaults,e);return f};f.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,smartLists:false,silent:false,highlight:null,langPrefix:"lang-"};f.Parser=i;f.parser=i.parse;f.Lexer=t;f.lexer=t.lex;f.InlineLexer=r;f.inlineLexer=r.output;f.parse=f;if(typeof exports==="object"){module.exports=f}else if(typeof define==="function"&&define.amd){define(function(){return f})}else{this.marked=f}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());(function(e){"use strict";var t=3,n=5,r,i;r=function(t,n,r,s){this.obj=t;this.options=t.options;this.name=n;this.href=s.href;if(s.url){this.url=s.url}this.el=e('<a href="'+this.href+'">'+this.name+"</a>").addClass("node");e("body").prepend(this.el);if(!r){t.activeNode=this;this.el.addClass("active root")}else{t.lines[t.lines.length]=new i(t,this,r)}this.parent=r;this.children=[];if(this.parent){this.parent.children.push(this)}this.moving=false;this.moveTimer=0;this.obj.movementStopped=false;this.visible=true;this.x=1;this.y=1;this.dx=0;this.dy=0;this.hasPosition=false;this.content=[];this.el.css("position","absolute");var o=this;this.el.draggable({drag:function(){t.root.animateToStatic()}});this.el.click(function(){if(t.activeNode){t.activeNode.el.removeClass("active");if(t.activeNode.parent){t.activeNode.parent.el.removeClass("activeparent")}}if(typeof s.onclick==="function"){s.onclick(o)}t.activeNode=o;t.activeNode.el.addClass("active");if(t.activeNode.parent){t.activeNode.parent.el.addClass("activeparent")}t.root.animateToStatic();return false})};r.prototype.animateToStatic=function(){clearTimeout(this.moveTimer);var e=this;this.moveTimer=setTimeout(function(){e.obj.movementStopped=true},t*1e3);if(this.moving){return}this.moving=true;this.obj.movementStopped=false;this.animateLoop()};r.prototype.animateLoop=function(){var e,t,n=this;this.obj.canvas.clear();for(e=0,t=this.obj.lines.length;e<t;e++){this.obj.lines[e].updatePosition()}if(this.findEquilibrium()||this.obj.movementStopped){this.moving=false;return}setTimeout(function(){n.animateLoop()},10)};r.prototype.findEquilibrium=function(){var e,t,n=true;n=this.display()&&n;for(e=0,t=this.children.length;e<t;e++){n=this.children[e].findEquilibrium()&&n}return n};r.prototype.display=function(t){var n=this,r,i;t=t||0;if(this.visible){if(this.obj.activeNode!==this&&this.obj.activeNode!==this.parent&&this.obj.activeNode.parent!==this){this.el.hide();this.visible=false}}else{if(this.obj.activeNode===this||this.obj.activeNode===this.parent||this.obj.activeNode.parent===this){this.el.show();this.visible=true}}this.drawn=true;if(!this.hasPosition){this.x=this.options.mapArea.x/2;this.y=this.options.mapArea.y/2;this.el.css({left:this.x+"px",top:this.y+"px"});this.hasPosition=true}r=Math.PI*2/this.children.length;e.each(this.children,function(e){if(!this.hasPosition){if(!this.options.showProgressive||t<=1){i=e*r;this.x=50*Math.cos(i)+n.x;this.y=50*Math.sin(i)+n.y;this.hasPosition=true;this.el.css({left:this.x+"px",top:this.y+"px"})}}});return this.updatePosition()};r.prototype.updatePosition=function(){var e,t,n;if(this.el.hasClass("ui-draggable-dragging")){this.x=parseInt(this.el.css("left"),10)+this.el.width()/2;this.y=parseInt(this.el.css("top"),10)+this.el.height()/2;this.dx=0;this.dy=0;return false}e=this.getForceVector();this.dx+=e.x*this.options.timeperiod;this.dy+=e.y*this.options.timeperiod;this.dx=this.dx*this.options.damping;this.dy=this.dy*this.options.damping;if(Math.abs(this.dx)<this.options.minSpeed){this.dx=0}if(Math.abs(this.dy)<this.options.minSpeed){this.dy=0}if(Math.abs(this.dx)+Math.abs(this.dy)===0){return true}this.x+=this.dx*this.options.timeperiod;this.y+=this.dy*this.options.timeperiod;this.x=Math.min(this.options.mapArea.x,Math.max(1,this.x));this.y=Math.min(this.options.mapArea.y,Math.max(1,this.y));t=this.x-this.el.width()/2;n=this.y-this.el.height()/2-10;this.el.css({left:t+"px",top:n+"px"});return false};r.prototype.getForceVector=function(){var e,t,r,i,s,o,u,a,f,l,c,h=0,p=0,d=this.obj.nodes,v=this.obj.lines;for(e=0;e<d.length;e++){if(d[e]===this){continue}if(!d[e].visible){continue}t=d[e].x-this.x;r=d[e].y-this.y;s=Math.sqrt(t*t+r*r);if(Math.abs(s)<500){if(t===0){o=Math.PI/2;i=0}else{o=Math.atan(r/t);i=t/Math.abs(t)}u=this.options.repulse*500/(s*s);h+=-u*Math.cos(o)*i;p+=-u*Math.sin(o)*i}}a=this.x+this.el.width();u=this.options.wallrepulse*500/(a*a);h+=Math.min(2,u);f=this.options.mapArea.x-a;u=-(this.options.wallrepulse*500)/(f*f);h+=Math.max(-2,u);u=this.options.wallrepulse*500/(this.y*this.y);p+=Math.min(2,u);l=this.options.mapArea.y-this.y;u=-(this.options.wallrepulse*500)/(l*l);p+=Math.max(-2,u);for(e=0;e<v.length;e++){c=null;if(v[e].start===this){c=v[e].end}else if(v[e].end===this){c=v[e].start}else{continue}if(!c.visible){continue}t=c.x-this.x;r=c.y-this.y;s=Math.sqrt(t*t+r*r);if(Math.abs(s)>0){if(t===0){o=Math.PI/2;i=0}else{o=Math.atan(r/t);i=t/Math.abs(t)}u=this.options.attract*s/1e4;h+=u*Math.cos(o)*i;p+=u*Math.sin(o)*i}}if(this.obj.activeNode===this){c=this.options.mapArea;t=c.x/2-this.options.centreOffset-this.x;r=c.y/2-this.y;s=Math.sqrt(t*t+r*r);if(Math.abs(s)>0){if(t===0){o=Math.PI/2;i=0}else{i=t/Math.abs(t);o=Math.atan(r/t)}u=.1*this.options.attract*s*n/1e3;h+=u*Math.cos(o)*i;p+=u*Math.sin(o)*i}}if(Math.abs(h)>this.options.maxForce){h=this.options.maxForce*(h/Math.abs(h))}if(Math.abs(p)>this.options.maxForce){p=this.options.maxForce*(p/Math.abs(p))}return{x:h,y:p}};r.prototype.removeNode=function(){var e,t=this.obj.nodes,n=this.obj.lines;for(e=0;e<this.children.length;e++){this.children[e].removeNode()}this.obj.nodes=[];for(e=0;e<t.length;e++){if(t[e]===this){continue}this.obj.nodes.push(t[e])}this.obj.lines=[];for(e=0;e<n.length;e++){if(n[e].start===this){continue}else if(n[e].end===this){continue}this.obj.lines.push(n[e])}this.el.remove()};i=function(e,t,n){this.obj=e;this.options=e.options;this.start=t;this.colour="blue";this.size="thick";this.end=n};i.prototype.updatePosition=function(){if(!this.options.showSublines&&(!this.start.visible||!this.end.visible)){return}this.size=this.start.visible&&this.end.visible?"thick":"thin";this.color=this.obj.activeNode.parent===this.start||this.obj.activeNode.parent===this.end?"red":"blue";this.strokeStyle="#FFF";this.obj.canvas.path("M"+this.start.x+" "+this.start.y+"L"+this.end.x+" "+this.end.y).attr({stroke:this.strokeStyle,opacity:.2,"stroke-width":"5px"})};e.fn.addNode=function(e,t,n){var i=this[0],s=i.nodes[i.nodes.length]=new r(i,t,e,n);console.log(i.root);i.root.animateToStatic();return s};e.fn.addRootNode=function(e,t){var n=this[0].nodes[0]=new r(this[0],e,null,t);this[0].root=n;return n};e.fn.removeNode=function(e){return this.each(function(){})};e.fn.mindmap=function(t){t=e.extend({attract:15,repulse:6,damping:.55,timeperiod:10,wallrepulse:.4,mapArea:{x:-1,y:-1},canvasError:"alert",minSpeed:.05,maxForce:.1,showSublines:false,updateIterationCount:20,showProgressive:true,centreOffset:200,timer:0},t);var n=e(window);return this.each(function(){var r=this;this.mindmapInit=true;this.nodes=[];this.lines=[];this.activeNode=null;this.options=t;this.animateToStatic=function(){this.root.animateToStatic()};n.resize(function(){r.animateToStatic()});if(t.mapArea.x===-1){t.mapArea.x=n.width()}if(t.mapArea.y===-1){t.mapArea.y=n.height()}this.canvas=Raphael(0,0,t.mapArea.x,t.mapArea.y);e(this).addClass("js-mindmap-active");e(this).keyup(function(e){var t,n,i=r.activeNode.parent;switch(e.which){case 33:case 38:if(i){i.el.click()}break;case 13:case 34:case 40:if(r.activeNode.children.length){r.activeNode.children[0].el.click()}break;case 37:if(i){t=null;if(i.children[0]===r.activeNode){t=i.children[i.children.length-1]}else{for(n=1;n<i.children.length;n++){if(i.children[n]===r.activeNode){t=i.children[n-1]}}}if(t){t.el.click()}}break;case 39:if(i){t=null;if(i.children[i.children.length-1]===r.activeNode){t=i.children[0]}else{for(n=i.children.length-2;n>=0;n--){if(i.children[n]===r.activeNode){t=i.children[n+1]}}}if(t){t.el.click()}}break;case 45:break;case 46:break;case 27:break;case 83:break}return false})})}})(jQuery);var mindmap_html={render:function(e){for(var t=$(e).children(":first");t.length>0;t=t.next()){switch(t[0].tagName){case"UL":if($(">li",t).length>0){mindmap_html.add_root($(">li",t).get(0),mindmap_html.recurse)}return;case"H1":mindmap_html.add_root(t,mindmap_html.iterate);return}}},h_weight:function(e){switch(e[0].tagName){case"H1":return 1;case"H2":return 2;case"H3":return 3;case"H4":return 4;case"H5":return 5;case"H6":return 6;default:return 0}},h_next:function(e){switch(e[0].tagName){case"H1":return"H2";case"H2":return"H3";case"H3":return"H4";case"H4":return"H5";case"H5":return"H6"}},iterate:function(e){var t=true;var n=mindmap_html.h_next(e);for(var r=$(e).nextAll(":first");r.length>0;r=r.next()){switch(r[0].tagName){case"P":if(t){e.mynode.content.push(r);r.hide()}break;case"UL":if(t){$(">li",r).each(function(){mindmap_html.add_node(e,this,mindmap_html.recurse)})}break;case n:mindmap_html.add_node(e,r,mindmap_html.iterate);t=false;break;default:var i=mindmap_html.h_weight(r);var s=mindmap_html.h_weight(e);if(i==0){}else if(i<=s){e.mynode.content.reverse();return}}}e.mynode.content.reverse()},recurse:function(e){$(">ul>li",e).each(function(){mindmap_html.add_node(e,this,mindmap_html.recurse)})},add_root:function(e,t){e.mynode=$("body").addRootNode(mindmap_html.get_text(e),{href:"/",onclick:mindmap_html.on_click});mindmap_html.add_content(e);$(e).hide();t(e)},add_node:function(e,t,n){t.mynode=$("body").addNode(e.mynode,mindmap_html.get_text(t),{href:mindmap_html.get_href(t),onclick:mindmap_html.on_click});mindmap_html.add_content(t);$(t).hide();n(t)},on_click:function(e){$(e.obj.activeNode.content).each(function(){this.hide()});$(e.content).each(function(){this.show();e.el.after(this)})},add_content:function(e){for(var t=$(e).children(":first");t.length>0;t=t.next()){if(t[0].tagName=="P"){e.mynode.content.push(t);t.hide()}}e.mynode.content.reverse()},get_text:function(e){if($(e).children("a").length>0){return $(e).children("a").first().text()}else{return $(e).contents().eq(0).text()}},get_href:function(e){if($(e).children("a").length>0){return $(e).children("a").first().attr("href")}else{return $(e).contents().eq(0).text().toLowerCase()}}};var mindmap_md={render:function(){document.head=document.getElementsByTagName("head")[0];if(!("getElementsByClassName"in document)){document.getElementsByClassName=function(e){function t(e,t){var n=[];var r=new RegExp("(^| )"+t+"( |$)");var i=e.getElementsByTagName("*");for(var s=0,o=i.length;s<o;s++)if(r.test(i[s].className))n.push(i[s]);return n}return t(document.body,e)}}var e=document.getElementsByTagName("xmp")[0]||document.getElementsByTagName("textarea")[0],t=document.getElementsByTagName("title")[0],n=document.getElementsByTagName("script"),r=document.getElementsByTagName("link"),i=document.getElementsByClassName("navbar")[0];var s=document.createElement("meta");s.name="viewport";s.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0";if(document.head.firstChild)document.head.insertBefore(s,document.head.firstChild);else document.head.appendChild(s);var o="";for(var u=0;u<r.length;u++){if(r[u].href.match("mindmap")){o=r[u].href;break}}var a=o.substr(0,o.lastIndexOf("/"));var f=e.getAttribute("theme")||"bootstrap";f=f.toLowerCase();var l=document.createElement("link");l.href=a+"/themes/"+f+".min.css";l.rel="stylesheet";document.head.appendChild(l);var l=document.createElement("link");l.href=a+"/themes/bootstrap-responsive.min.css";l.rel="stylesheet";document.head.appendChild(l);var c=e.textContent||e.innerText;var h=document.createElement("div");h.className="container";h.id="content";document.body.replaceChild(h,e);var h=document.createElement("div");h.className="navbar navbar-fixed-top";if(!i&&t){h.innerHTML='<div class="navbar-inner"> <div class="container"> <div id="headline" class="brand"> </div> </div> </div>';document.body.insertBefore(h,document.body.firstChild);var p=t.innerHTML;var d=document.getElementById("headline");if(d)d.innerHTML=p}var v=marked(c);document.getElementById("content").innerHTML=v}};var mindmapjs={setup:function(){document.body.style.display="none";$("body").mindmap();if(document.getElementsByTagName("xmp")[0]){mindmap_md.render();mindmap_html.render($("#content"))}else{mindmap_html.render($("body"))}document.body.style.display=""}};$(mindmapjs.setup)
